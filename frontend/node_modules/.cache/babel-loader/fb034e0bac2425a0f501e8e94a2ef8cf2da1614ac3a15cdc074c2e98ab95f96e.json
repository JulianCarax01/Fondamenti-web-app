{"ast":null,"code":"import _slicedToArray from\"/home/mamba/WebstormProjects/app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function DeleteFriend(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),friendToDelete=_useState2[0],setFriendToDelete=_useState2[1];var user=JSON.parse(localStorage.getItem('user'));var me_user=user._id;//ottengo l'id dell'utente attualmente loggato \nvar handleDeleteFriend=function handleDeleteFriend(event){event.preventDefault();if(friendToDelete===user.username){alert(\"Non puoi rimuovere te stesso come amico.\");return;}axios.post('http://localhost:3000/api/users/deleteFriend',{user:me_user,friend:friendToDelete}).then(function(response){console.log(response.data);alert(\"L'amico Ã¨ stato eliminato!\");setFriendToDelete('');})////effettuo la richiesta post per l'eliminazione di un amico passando come corpo della richiesta l'amico da eliminare e l'id dell'utente attualmente loggato \n.catch(function(error){//gestisco i diversi errori\nif(error.response&&error.response.status===401){alert(\"Utente non trovato\");}else if(error.response&&error.response.status===400){alert(\"L'utente non Ã¨ presente nella lista degli amici\");}else{console.error(error);}});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\" In questa pagina puoi eliminare un amico \\uD83D\\uDE45\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleDeleteFriend,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Elimina un amico \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"frienddelete\",placeholder:\"Digita lo username dell'amico\",value:friendToDelete,onChange:function onChange(event){setFriendToDelete(event.target.value);event.target.value='';}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Elimina\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Per ritornare alla \",/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3001/homepage\",style:{color:\"#6643b5\"},children:\" Homepage \"}),\" \"]})]});}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","DeleteFriend","_useState","_useState2","_slicedToArray","friendToDelete","setFriendToDelete","user","JSON","parse","localStorage","getItem","me_user","_id","handleDeleteFriend","event","preventDefault","username","alert","post","friend","then","response","console","log","data","catch","error","status","children","onSubmit","type","name","placeholder","value","onChange","target","href","style","color"],"sources":["/home/mamba/WebstormProjects/app/frontend/src/pages/DeleteFriend.jsx"],"sourcesContent":["import React from \"react\"\nimport { useState } from \"react\"\nimport axios from \"axios\"\n\n\nexport default function DeleteFriend() {\n    const [friendToDelete, setFriendToDelete] = useState('')\n\n    const user = JSON.parse(localStorage.getItem('user'))\n    const me_user = user._id //ottengo l'id dell'utente attualmente loggato \n    \n    const handleDeleteFriend = (event) => {\n        event.preventDefault()\n\n        if (friendToDelete === user.username) {\n            alert(\"Non puoi rimuovere te stesso come amico.\");\n            return;\n        }\n\n        \n        axios.post('http://localhost:3000/api/users/deleteFriend', {  user: me_user, friend: friendToDelete })\n      .then((response) => {\n        console.log(response.data)\n        alert(\"L'amico Ã¨ stato eliminato!\")\n        setFriendToDelete('') }) ////effettuo la richiesta post per l'eliminazione di un amico passando come corpo della richiesta l'amico da eliminare e l'id dell'utente attualmente loggato \n      .catch((error) => { //gestisco i diversi errori\n        if (error.response && error.response.status === 401) {\n          alert(\"Utente non trovato\")\n        } \n        else if (error.response && error.response.status === 400) {\n          alert(\"L'utente non Ã¨ presente nella lista degli amici\")\n        } \n        else {\n          console.error(error)\n        }\n      })\n  };\n  return(\n        <div> \n            <h2> In questa pagina puoi eliminare un amico ðŸ™…</h2>\n            \n            <form onSubmit={handleDeleteFriend}>\n        <label> Elimina un amico </label>\n        <input type=\"text\" name=\"frienddelete\" placeholder=\"Digita lo username dell'amico\" value={friendToDelete} \n        onChange={(event) => {setFriendToDelete(event.target.value);  event.target.value=''}}   />\n        <button type=\"submit\">Elimina</button>\n      </form>\n      <p> Per ritornare alla <a href=\"http://localhost:3001/homepage\" style={{ color: \"#6643b5\" }}> Homepage </a> </p>\n </div>\n \n  );\n}\n\n"],"mappings":"+HAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGzB,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACnC,IAAAC,SAAA,CAA4CP,QAAQ,CAAC,EAAE,CAAC,CAAAQ,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IAExC,GAAM,CAAAI,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CACrD,GAAM,CAAAC,OAAO,CAAGL,IAAI,CAACM,GAAG,CAAC;AAEzB,GAAM,CAAAC,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,KAAK,CAAK,CAClCA,KAAK,CAACC,cAAc,CAAC,CAAC,CAEtB,GAAIX,cAAc,GAAKE,IAAI,CAACU,QAAQ,CAAE,CAClCC,KAAK,CAAC,0CAA0C,CAAC,CACjD,OACJ,CAGAtB,KAAK,CAACuB,IAAI,CAAC,8CAA8C,CAAE,CAAGZ,IAAI,CAAEK,OAAO,CAAEQ,MAAM,CAAEf,cAAe,CAAC,CAAC,CACvGgB,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAC1BP,KAAK,CAAC,4BAA4B,CAAC,CACnCZ,iBAAiB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAE;AAAA,CAC1BoB,KAAK,CAAC,SAACC,KAAK,CAAK,CAAE;AAClB,GAAIA,KAAK,CAACL,QAAQ,EAAIK,KAAK,CAACL,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CACnDV,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CAAC,IACI,IAAIS,KAAK,CAACL,QAAQ,EAAIK,KAAK,CAACL,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CACxDV,KAAK,CAAC,iDAAiD,CAAC,CAC1D,CAAC,IACI,CACHK,OAAO,CAACI,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAAC,CACN,CAAC,CACD,mBACM3B,KAAA,QAAA6B,QAAA,eACI/B,IAAA,OAAA+B,QAAA,CAAI,wDAA4C,CAAI,CAAC,cAErD7B,KAAA,SAAM8B,QAAQ,CAAEhB,kBAAmB,CAAAe,QAAA,eACvC/B,IAAA,UAAA+B,QAAA,CAAO,oBAAkB,CAAO,CAAC,cACjC/B,IAAA,UAAOiC,IAAI,CAAC,MAAM,CAACC,IAAI,CAAC,cAAc,CAACC,WAAW,CAAC,+BAA+B,CAACC,KAAK,CAAE7B,cAAe,CACzG8B,QAAQ,CAAE,SAAAA,SAACpB,KAAK,CAAK,CAACT,iBAAiB,CAACS,KAAK,CAACqB,MAAM,CAACF,KAAK,CAAC,CAAGnB,KAAK,CAACqB,MAAM,CAACF,KAAK,CAAC,EAAE,EAAE,CAAI,CAAC,cAC1FpC,IAAA,WAAQiC,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,cACP7B,KAAA,MAAA6B,QAAA,EAAG,sBAAoB,cAAA/B,IAAA,MAAGuC,IAAI,CAAC,gCAAgC,CAACC,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAV,QAAA,CAAC,YAAU,CAAG,CAAC,IAAC,EAAG,CAAC,EAChH,CAAC,CAGP"},"metadata":{},"sourceType":"module","externalDependencies":[]}