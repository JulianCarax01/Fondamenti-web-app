{"ast":null,"code":"import _slicedToArray from\"/home/mamba/WebstormProjects/app/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import'../style/style_viewfriends.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ViewFriends(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),friendList=_useState2[0],setFriendList=_useState2[1];var loggedUser=JSON.parse(localStorage.getItem(\"user\"));useEffect(function(){axios.get(\"http://localhost:3000/api/users/viewFriends/\"+\"\".concat(loggedUser._id))//effettuo la richiesta get per l'ottenimento della lista di amici utilizzando l'id dell'utente attualmente loggato \n.then(function(res){if(res.data&&res.data.friends){setFriendList(res.data.friends);}}).catch(function(error){if(error.response&&error.response.status===401){alert(\"Utente non trovato\");}else{console.error(error);}});},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"In questa pagina puoi visualizzare i tuoi amici\"}),(friendList===null||friendList===void 0?void 0:friendList.length)===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Non sono presenti amici nella lista\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Se vuoi aggiungerli\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"http://localhost:3001/addFriend\",children:[\" \",/*#__PURE__*/_jsx(\"button\",{children:\"Aggiungi amico\"})]})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"friend-list\",children:friendList.map(function(friend){return/*#__PURE__*/_jsx(\"li\",{className:\"friend-list-item\",children:friend.username},friend._id);})}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Per ritornare alla \",/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3001/homepage\",style:{color:\"#6643b5\"},children:\" Homepage \"}),\" \"]})]});}","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ViewFriends","_useState","_useState2","_slicedToArray","friendList","setFriendList","loggedUser","JSON","parse","localStorage","getItem","get","concat","_id","then","res","data","friends","catch","error","response","status","alert","console","children","length","href","className","map","friend","username","style","color"],"sources":["/home/mamba/WebstormProjects/app/frontend/src/pages/ViewFriends.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport '../style/style_viewfriends.css';\n\nexport default function ViewFriends() {\n  const [friendList, setFriendList] = useState([])\n  const loggedUser = JSON.parse(localStorage.getItem(\"user\"))\n  \n\n  useEffect(() => {\n    axios.get(\"http://localhost:3000/api/users/viewFriends/\" + `${loggedUser._id}`) //effettuo la richiesta get per l'ottenimento della lista di amici utilizzando l'id dell'utente attualmente loggato \n      .then(res => {\n        if (res.data && res.data.friends) {\n          setFriendList(res.data.friends);\n        }\n      })\n      .catch((error) => {\n        if (error.response && error.response.status === 401) {\n          alert(\"Utente non trovato\");\n        } else {\n          console.error(error);\n        }\n      });\n  }, []);\n\n  return (\n    <div>\n      <h2>In questa pagina puoi visualizzare i tuoi amici</h2>\n      {friendList?.length === 0 ? (\n        <>\n          <p>Non sono presenti amici nella lista</p>\n          <p>Se vuoi aggiungerli</p>\n          <a href=\"http://localhost:3001/addFriend\"> <button>Aggiungi amico</button></a>\n        </> ) : (\n        <ul className=\"friend-list\">\n          {friendList.map((friend) => (\n            <li className=\"friend-list-item\" key={friend._id}>\n              {friend.username}\n            </li> ))}\n        </ul>\n      )}\n        <p> Per ritornare alla <a href=\"http://localhost:3001/homepage\" style={{ color: \"#6643b5\" }}> Homepage </a> </p>\n\n    </div>\n  );\n}\n\n\n\n\n"],"mappings":"+HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAExC,cAAe,SAAS,CAAAC,WAAWA,CAAA,CAAG,CACpC,IAAAC,SAAA,CAAoCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,GAAM,CAAAI,UAAU,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAG3DlB,SAAS,CAAC,UAAM,CACdC,KAAK,CAACkB,GAAG,CAAC,8CAA8C,IAAAC,MAAA,CAAMN,UAAU,CAACO,GAAG,CAAE,CAAE;AAAA,CAC7EC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,IAAI,EAAID,GAAG,CAACC,IAAI,CAACC,OAAO,CAAE,CAChCZ,aAAa,CAACU,GAAG,CAACC,IAAI,CAACC,OAAO,CAAC,CACjC,CACF,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,CAAK,CAChB,GAAIA,KAAK,CAACC,QAAQ,EAAID,KAAK,CAACC,QAAQ,CAACC,MAAM,GAAK,GAAG,CAAE,CACnDC,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CAAC,IAAM,CACLC,OAAO,CAACJ,KAAK,CAACA,KAAK,CAAC,CACtB,CACF,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEtB,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAI,iDAA+C,CAAI,CAAC,CACvD,CAAApB,UAAU,SAAVA,UAAU,iBAAVA,UAAU,CAAEqB,MAAM,IAAK,CAAC,cACvB5B,KAAA,CAAAE,SAAA,EAAAyB,QAAA,eACE7B,IAAA,MAAA6B,QAAA,CAAG,qCAAmC,CAAG,CAAC,cAC1C7B,IAAA,MAAA6B,QAAA,CAAG,qBAAmB,CAAG,CAAC,cAC1B3B,KAAA,MAAG6B,IAAI,CAAC,iCAAiC,CAAAF,QAAA,EAAC,GAAC,cAAA7B,IAAA,WAAA6B,QAAA,CAAQ,gBAAc,CAAQ,CAAC,EAAG,CAAC,EAC9E,CAAC,cACH7B,IAAA,OAAIgC,SAAS,CAAC,aAAa,CAAAH,QAAA,CACxBpB,UAAU,CAACwB,GAAG,CAAC,SAACC,MAAM,qBACrBlC,IAAA,OAAIgC,SAAS,CAAC,kBAAkB,CAAAH,QAAA,CAC7BK,MAAM,CAACC,QAAQ,EADoBD,MAAM,CAAChB,GAEzC,CAAC,EAAE,CAAC,CACR,CACL,cACChB,KAAA,MAAA2B,QAAA,EAAG,sBAAoB,cAAA7B,IAAA,MAAG+B,IAAI,CAAC,gCAAgC,CAACK,KAAK,CAAE,CAAEC,KAAK,CAAE,SAAU,CAAE,CAAAR,QAAA,CAAC,YAAU,CAAG,CAAC,IAAC,EAAG,CAAC,EAE/G,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}